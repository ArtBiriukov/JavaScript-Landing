(()=>{"use strict";var e=/^[а-яё]{2,}$/i,t=/[а-яё\s\!\.\,\?\:\;\(\)]+$/gi,n=/^\w+@\w+\.\w{2,}$/,r=/^((8|\+7)[\- ]?)?(\(?\d{3}\)?[\- ]?)?[\d\- ]{7,10}$/;const o=function(e){var t=e.target,n=/^(\s*\-*)*/g,r=/[\s*\-*]*$/g,o=function(){t.value=t.value.replace(n,""),t.value=t.value.replace(r,"")};"user_name"===t.name&&(o(),t.value=t.value.replace(/( |^)[а-яёa-z]/g,(function(e){return e.toUpperCase()}))),"user_message"===t.name&&(o(),t.value=t.value.replace(/\s+/g," "),t.value=t.value.replace(/\-+/g,"-")),t.matches(".form-email")&&(o(),t.value=t.value.replace(/@+/g,"@"),t.value=t.value.replace(/\-+/g,"-"),t.value=t.value.replace(/\.+/g,".")),t.matches(".form-phone")&&(o(),t.value=t.value.replace(/\++/g,"+"),t.value=t.value.replace(/\-+/g,"-"),t.value=t.value.replace(/\(+/g,"("),t.value=t.value.replace(/\)+/g,")"))};function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,l=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return l=e.done,e},e:function(e){u=!0,a=e},f:function(){try{l||null==n.return||n.return()}finally{if(u)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",n=document.querySelectorAll(e);function r(e){var n=e.keyCode,r=t,o=r.replace(/\D/g,""),a=this.value.replace(/\D/g,""),c=0,l=r.replace(/[_\d]/g,(function(e){return c<a.length?a.charAt(c++)||o.charAt(c):e}));-1!=(c=l.indexOf("_"))&&(l=l.slice(0,c));var u=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(u=new RegExp("^"+u+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=l),"blur"==e.type&&this.value.length<5&&(this.value="")}var o,c=a(n);try{for(c.s();!(o=c.n()).done;){var l=o.value;l.addEventListener("input",r),l.addEventListener("focus",r),l.addEventListener("blur",r)}}catch(e){c.e(e)}finally{c.f()}}const u=l;l("селектор элементов","маска, если маску не передать то будет работать стандартная +7 (___) ___-__-__");var i,s,d,v,m,f,p,h,g,y,b,L,E,S,q,_,w,A,k,I,x,C,T,D,M,$,j,B,F;T="23 September  2021",D=document.getElementById("timer-hours"),M=document.getElementById("timer-minutes"),$=document.getElementById("timer-seconds"),j=0,B=function(e){return e<10?"0".concat(e):e},(F=function(){var e=function(){var e=(new Date(T).getTime()-(new Date).getTime())/1e3,t=Math.floor(e%60),n=Math.floor(e/60%60),r=Math.floor(e/3600);return e>0?{timeRemaining:e,hours:r,minutes:n,seconds:t}:{timeRemaining:0,hours:0,minutes:0,seconds:0}}(),t=e.hours,n=e.minutes,r=e.seconds,o=e.timeRemaining;$.textContent=B(r),M.textContent=B(n),D.textContent=B(t),o<0&&clearInterval(j)})(),j=setInterval(F,1e3),x=document.querySelector("menu"),C=function(){x.classList.toggle("active-menu")},document.addEventListener("click",(function(e){var t=e.target;t.matches("ul>li>a")||t.closest(".menu")||t.classList.contains("close-btn")?(e.preventDefault(),C()):!(t=t.closest("menu"))&&x.classList.contains("active-menu")&&C()})),w=document.querySelector(".popup"),A=document.querySelectorAll(".popup-btn"),k=document.querySelector(".popup-content"),I=function(){if(document.documentElement.clientWidth<=768)w.style.display="block";else{var e=null;window.requestAnimationFrame((function t(n){e||(e=n);var r=n-e;w.style.display="block",k.style.left=r/6+"%",r<240&&window.requestAnimationFrame(t)}))}},A.forEach((function(e){e.addEventListener("click",I)})),w.addEventListener("click",(function(e){var t=e.target;t.classList.contains("popup-close")?(w.style.display="none",k.style.left="0"):(t=t.closest(".popup-content"))||(w.style.display="none",k.style.left="0")})),S=document.querySelector("menu").querySelectorAll("ul>li>a"),q=document.querySelector('a[href="#service-block"]'),_=function(e){e.preventDefault();var t=e.currentTarget.getAttribute("href");document.querySelector(""+t).scrollIntoView({behavior:"smooth",block:"start"})},S.forEach((function(e){e.addEventListener("click",_)})),q.addEventListener("click",_),b=document.querySelector(".service-header"),L=b.querySelectorAll(".service-header-tab"),E=document.querySelectorAll(".service-tab"),b.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&L.forEach((function(e,n){e===t&&function(e){for(var t=0;t<E.length;t++)e===t?(L[t].classList.add("active"),E[t].classList.remove("d-none")):(L[t].classList.remove("active"),E[t].classList.add("d-none"))}(n)}))})),function(){var e=document.querySelectorAll(".portfolio-item"),t=document.querySelector(".portfolio-dots");t.insertAdjacentHTML("beforeend",'<li class="dot dot-active"></li>');for(var n=0;n<e.length-1;n++)t.insertAdjacentHTML("beforeend",'<li class="dot"></li>')}(),d=document.querySelectorAll(".portfolio-item"),v=document.querySelectorAll(".dot"),m=document.querySelector(".portfolio-content"),f=0,p=function(e,t,n){e[t].classList.remove(n)},h=function(e,t,n){e[t].classList.add(n)},g=function(){p(d,f,"portfolio-item-active"),p(v,f,"dot-active"),++f>=d.length&&(f=0),h(d,f,"portfolio-item-active"),h(v,f,"dot-active")},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500;s=setInterval(g,e)},m.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".portfolio-btn, .dot")&&(p(d,f,"portfolio-item-active"),p(v,f,"dot-active"),t.matches("#arrow-right")?f++:t.matches("#arrow-left")?f--:t.matches(".dot")&&v.forEach((function(e,n){e===t&&(f=n)})),f>=d.length&&(f=0),f<0&&(f=d.length-1),h(d,f,"portfolio-item-active"),h(v,f,"dot-active"))})),m.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(s)})),m.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&y()})),y(1500),(i=document.querySelectorAll(".command__photo")).forEach((function(e,t){e.addEventListener("mouseenter",(function(e){e.target===i[t]&&(e.target.dataset.firstImg=i[t].src,i[t].src=e.target.dataset.img)})),e.addEventListener("mouseout",(function(e){e.target===i[t]&&(i[t].src=e.target.dataset.firstImg)}))})),document.querySelector(".calc-block").querySelectorAll("input").forEach((function(e){e.addEventListener("input",(function(){e.value=e.value.replace(/[^\d]/g,"")}))})),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),n=document.querySelector(".calc-type"),r=document.querySelector(".calc-square"),o=document.querySelector(".calc-day"),a=document.querySelector(".calc-count"),c=document.getElementById("total");t.addEventListener("change",(function(t){var l,u,i,s,d,v,m,f=t.target;f!==n&&f!==r&&f!==o&&f!==a||(i=0,s=1,d=1,v=n.options[n.selectedIndex].value,m=r.value,v||(a.value="",r.value="",o.value="",i=0),a.value>1&&(s+=(a.value-1)/10),o.value&&o.value<5?d*=2:o.value&&o.value<10&&(d*=1.5),v&&m&&(i=parseInt(e*v*m*s*d)),0,l=i,1e3,u=null,window.requestAnimationFrame((function e(t){u||(u=t);var n=Math.min((t-u)/1e3,1);c.textContent=Math.floor(n*(l+0)+0),n<1&&window.requestAnimationFrame(e)})))}))}(100),function(){var a="Ваши данные у нас ))",c=document.createElement("div");c.classList.add("animate__animated"),c.style.cssText="\n    font-size: 2rem;\n    background-color: steelblue;\n    width: 230px;\n    padding: 10px;\n    border: 2px solid burlywood;\n    border-radius: 25px;\n    margin: 10px auto;\n  ";var l=function(e){e.forEach((function(e){e.value="",e.classList.remove("success"),e.classList.remove("error")}))},i=function(){document.querySelector(".popup").style.display="none",c.remove()},s=function(s){var d=document.getElementById(s);d.querySelectorAll("input").forEach((function(a){a.addEventListener("input",(function(o){var a,c,l;a=o.target,c=function(){a.classList.add("success"),a.classList.remove("error")},l=function(){a.classList.add("error"),a.classList.remove("success")},"user_name"===a.name&&(a.value=a.value.replace(/[a-z\s]*/gi,""),e.test(a.value)?c():l()),"user_message"===a.name&&(t.test(a.value)?c():l()),a.matches(".form-email")&&(n.test(a.value)?c():l()),a.matches(".form-phone")&&(a.value=a.value.replace(/[^\d\+\-\s\(\)]+/g,""),r.test(a.value)?c():l())})),a.addEventListener("blur",o)})),u(".form-phone"),d.addEventListener("submit",(function(e){var t,n=e.target,r=n.querySelectorAll("input");if(e.preventDefault(),t=!0,r.forEach((function(e){""!==e.value?e.classList.contains("error")&&(t=!1):t=!1})),t){n.appendChild(c),c.classList.add("animate__backInRight"),c.textContent="Загрузка ...";var o=new FormData(n),u={};o.forEach((function(e,t){u[t]=e})),function(e){return fetch("./server.php",{method:"POST",headers:{"contant-Type":"application/json"},body:JSON.stringify(e)})}(u).then((function(e){if(200!==e.status)throw new Error("status not 200");c.style.display="block",c.textContent=a,l(r),setTimeout(i,3e3)})).catch((function(e){c.style.display="block",a.textContent="Что то не то",l(r),setTimeout(i,3e3),console.log(e)}))}}))};s("form1"),s("form2"),s("form3")}()})();